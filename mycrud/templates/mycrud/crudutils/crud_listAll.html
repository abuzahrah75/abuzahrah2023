{% load mycrud_tags %}
<!-- start tugasan content -->
        <form method="POST"
                    class=""
                    hx-post="{% url 'crud-add-item' myconfig.id %}"
                    hx-target="#dokumen"
                    hx-swap="afterbegin"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    id="add_form"
                >

                    <div class="field">
                    <div class="control">
                        <input class="form-control" type="text" name="nama" placeholder="Add New Item ...">
                    </div>
                    </div>
                    <button class="btn btn-primary btn-small"><strong>ADD</strong></button>
        </form>


        <div id="modals-here"></div>
        <div id="tugas-notify"></div>


        <table class="table table-hover my-0 table-sm">
            <thead>
                <tr>
                {% include myconfig.header_display %}
                </tr>
            </thead>
            
            <tbody id="dokumen">
                {% for todo in dokumen %}
            <tr id="baris-{{todo.id}}">
                {% include myconfig.data_fields %}
                <td>
                    <a class="badge bg-dark"
                    hx-post="{% url 'crud-detail' myconfig.id todo.id %}"
                    hx-target="#modals-here"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'

                    data-bs-toggle="modal" data-bs-target="exampleModal"
                    ><i class="align-middle bx bx-detail">View</i></a>

                    <a class="badge bg-dark"
                    hx-post="{% url 'crud-edit' myconfig.id  todo.id %}"
                    hx-target="#modals-here"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'

                    data-bs-toggle="modal" data-bs-target="exampleModal"
                    ><i class="align-middle bx bx-edit">Edit</i></a>

                    <a class="badge bg-danger"
                    hx-post="{% url 'crud-delete' myconfig.id  todo.id %}"
                    hx-target="#modals-here"
                    hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'
                    
                    data-bs-toggle="modal" data-bs-target="exampleModal"
                    ><i class="align-middle bx bx-x">Delete</i></a>

                    
                </td>
            </tr>
                {% endfor %}
            </tbody>
        </table>
    
<script>
    document.body.addEventListener('htmx:afterRequest', (event) =>{
        document.querySelector('input[name=nama]').value = '';
    });

    function closeModal() {
	var container = document.getElementById("modals-here")
	var backdrop = document.getElementById("modal-backdrop")
	var modal = document.getElementById("modal")

	modal.classList.remove("show")
	backdrop.classList.remove("show")

	setTimeout(function() {
		container.removeChild(backdrop)
		container.removeChild(modal)
	}, 200)
}

</script>